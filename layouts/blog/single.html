{{- define "main" }}
<div class="py-6 px-4 lg:px-0 md:py-12">
  <div class="flex gap-x-10">
    <section class="lg:w-2/3 overflow-hidden">
      <h1 class="title leading-10 text-center pb-4 md:pb-10">{{ .Title }}</h1>
      {{ if .Params.author }}
      <div class="md:mt-6 mb-10 text-center text-base md:text-lg text-gray-700">
        <span>{{ .Params.author }}</span>
        <span class="px-1">|</span>
        <span>{{ .Date.Format "2 Jan 2006" }}</span>
      </div>
      {{- end }}
      {{- $image := .Resources.GetMatch "cover.*" -}}
      {{ if $image }}
      {{ $webp := $image.Resize (printf "%dx%d webp picture" $image.Width $image.Height) -}}
      <picture>
        <source srcset="{{ $webp.RelPermalink }}" type="image/webp" >
        <img src="{{ $image.RelPermalink }}" width="{{ $image.Width }}"
          height="{{ $image.Height }}" loading="lazy" class="object-cover rounded-md max-w-full"
        >
      </picture>
      {{ end -}}
      <div class="content my-4 lg:my-10">{{ .Content }}</div>
      <a
        href="{{ .Site.BaseURL}}{{ .Section }}"
        class="btn btn-ghost my-10 inline-block"
      >
        <div class="flex items-center">
          <svg
            class="inline-flex h-3 w-3 mr-2"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M10 19l-7-7m0 0l7-7m-7 7h18"
            ></path>
          </svg>
          <p class="capitalize text-base md:text-lg">Back to {{ .Section }}</p>
        </div>
      </a>
    </section>

    {{ if .Params.toc | default true }}
    <aside class="hidden lg:w-1/3 lg:block">
      <div class="toc">
        <h5 class="mb-6 text-2xl font-semibold tracking-wider">
          Table of Contents
        </h5>
        {{ .TableOfContents }}
      </div>
    </aside>
    {{- end }}
  </div>
</div>
{{- end }}
